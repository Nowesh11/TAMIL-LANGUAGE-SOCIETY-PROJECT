import dotenv from 'dotenv';
import path from 'path';
import mongoose from 'mongoose';
import bcrypt from 'bcryptjs';
import Component from '../src/models/Component';
import User from '../src/models/User';

// Load environment variables
dotenv.config({ path: path.join(process.cwd(), '.env.local') });

async function connectDB() {
  const uri = process.env.MONGODB_URI || process.env.MONGO_URL || 'mongodb://localhost:27017/tamil-language-society';
  await mongoose.connect(uri);
  console.log('‚úÖ Connected to MongoDB');
}

async function ensureAdmin() {
  let admin = await User.findOne({ role: 'admin' });
  if (!admin) {
    const hashedPassword = await bcrypt.hash('admin123', 12);
    admin = new User({
      email: 'admin@tamilsociety.org',
      passwordHash: hashedPassword,
      name: { en: 'Admin User', ta: '‡Æ®‡Æø‡Æ∞‡Øç‡Æµ‡Ææ‡Æï ‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç' },
      role: 'admin',
      isActive: true
    });
    await admin.save();
    console.log('‚úÖ Created admin user');
  }
  return admin;
}

async function upsertComponent(filter: any, doc: any) {
  const existing = await Component.findOne(filter);
  if (existing) {
    Object.assign(existing, doc);
    await existing.save();
    console.log(`‚úÖ Updated ${doc.type} component for ${doc.page} page`);
  } else {
    await Component.create(doc);
    console.log(`‚úÖ Created ${doc.type} component for ${doc.page} page`);
  }
}

async function run() {
  await connectDB();
  const admin = await ensureAdmin();

  // Login Page Components
  console.log('üîê Seeding login page components...');

  // Login page SEO component
  const loginSeoDoc = {
    type: 'seo',
    page: 'login',
    content: {
      title: { 
        en: 'Login - Tamil Language Society', 
        ta: '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ - ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï‡ÆÆ‡Øç' 
      },
      description: { 
        en: 'Sign in to your Tamil Language Society account to access exclusive content and features.',
        ta: '‡Æ™‡Æø‡Æ∞‡Æ§‡Øç‡ÆØ‡Øá‡Æï ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡ÆÆ‡Øç‡Æö‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.'
      },
      keywords: ['login', 'signin', 'tamil', 'language', 'society', '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ', '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç']
    },
    order: 1,
    isActive: true,
    createdBy: admin._id,
    slug: 'login-seo'
  };
  await upsertComponent({ type: 'seo', page: 'login' }, loginSeoDoc);

  // Login page text content component
  const loginTextDoc = {
    type: 'text',
    page: 'login',
    content: {
      title: { 
        en: 'Welcome Back', 
        ta: '‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç' 
      },
      content: {
        en: 'Sign in to your account to access your personalized dashboard, track your progress, and connect with the Tamil language community.',
        ta: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ§‡Æ©‡Æø‡Æ™‡Øç‡Æ™‡ÆØ‡Æ©‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï, ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Øá‡Æ±‡Øç‡Æ±‡Æ§‡Øç‡Æ§‡Øà‡Æï‡Øç ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æï‡Øç‡Æï ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡ÆÆ‡ØÇ‡Æï‡Æ§‡Øç‡Æ§‡ØÅ‡Æü‡Æ©‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.'
      },
      format: 'plain',
      alignment: 'center'
    },
    order: 2,
    isActive: true,
    createdBy: admin._id,
    slug: 'login-welcome-text'
  };
  await upsertComponent({ type: 'text', page: 'login' }, loginTextDoc);

  // Login form labels and messages component
  const loginFormDoc = {
    type: 'text',
    page: 'login',
    content: {
      title: { 
        en: 'Login Form Content', 
        ta: '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ ‡Æ™‡Æü‡Æø‡Æµ ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡ÆÆ‡Øç' 
      },
      content: {
        en: JSON.stringify({
          subheading: 'Sign in to your account',
          email: 'Email Address',
          password: 'Password',
          loginButton: 'Sign In',
          forgotPassword: 'Forgot your password?',
          noAccount: "Don't have an account?",
          signUp: 'Sign up here',
          forgotPasswordTitle: 'Reset Your Password',
          forgotPasswordSubtitle: 'Enter your email to receive a verification code',
          sendCode: 'Send Verification Code',
          verificationCode: 'Verification Code',
          newPassword: 'New Password',
          confirmPassword: 'Confirm Password',
          resetPassword: 'Reset Password',
          backToLogin: 'Back to Login',
          enterCode: 'Enter the 6-digit code sent to your email'
        }),
        ta: JSON.stringify({
          subheading: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          email: '‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æï‡Æµ‡Æ∞‡Æø',
          password: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç',
          loginButton: '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          forgotPassword: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç ‡ÆÆ‡Æ±‡Æ®‡Øç‡Æ§‡ØÅ‡Æµ‡Æø‡Æü‡Øç‡Æü‡Æ§‡Ææ?',
          noAccount: '‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà‡ÆØ‡Ææ?',
          signUp: '‡Æá‡Æô‡Øç‡Æï‡Øá ‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          forgotPasswordTitle: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡ÆÆ‡ØÄ‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
          forgotPasswordSubtitle: '‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡ØÄ‡Æü‡Øç‡Æü‡Øà‡Æ™‡Øç ‡Æ™‡ØÜ‡Æ± ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç',
          sendCode: '‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡ØÄ‡Æü‡Øç‡Æü‡Øà ‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç',
          verificationCode: '‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡ØÄ‡Æü‡ØÅ',
          newPassword: '‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç',
          confirmPassword: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡Æâ‡Æ±‡ØÅ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æµ‡ØÅ‡ÆÆ‡Øç',
          resetPassword: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡ÆÆ‡ØÄ‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
          backToLogin: '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡Æ§‡Øç ‡Æ§‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç',
          enterCode: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Øç‡Æ™‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü 6-‡Æá‡Æ≤‡Æï‡Øç‡Æï ‡Æï‡ØÅ‡Æ±‡Æø‡ÆØ‡ØÄ‡Æü‡Øç‡Æü‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç'
        })
      },
      format: 'plain'
    },
    order: 3,
    isActive: true,
    createdBy: admin._id,
    slug: 'login-form-content'
  };
  await upsertComponent({ type: 'text', page: 'login', slug: 'login-form-content' }, loginFormDoc);

  // Signup Page Components
  console.log('üìù Seeding signup page components...');

  // Signup page SEO component
  const signupSeoDoc = {
    type: 'seo',
    page: 'sign',
    content: {
      title: { 
        en: 'Sign Up - Tamil Language Society', 
        ta: '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ - ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï‡ÆÆ‡Øç' 
      },
      description: { 
        en: 'Join the Tamil Language Society to connect with Tamil culture, access exclusive resources, and be part of our community.',
        ta: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡Æ™‡Æ£‡Øç‡Æ™‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æü‡Æ©‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï, ‡Æ™‡Æø‡Æ∞‡Æ§‡Øç‡ÆØ‡Øá‡Æï ‡Æµ‡Æ≥‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ÆÆ‡ØÇ‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø‡ÆØ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.'
      },
      keywords: ['signup', 'register', 'join', 'tamil', 'language', 'society', '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ', '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç']
    },
    order: 1,
    isActive: true,
    createdBy: admin._id,
    slug: 'signup-seo'
  };
  await upsertComponent({ type: 'seo', page: 'sign' }, signupSeoDoc);

  // Signup page text content component
  const signupTextDoc = {
    type: 'text',
    page: 'sign',
    content: {
      title: { 
        en: 'Join Our Community', 
        ta: '‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡ÆÆ‡ØÇ‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç' 
      },
      content: {
        en: 'Create your account to become part of the Tamil Language Society. Access exclusive content, participate in events, and connect with fellow Tamil language enthusiasts.',
        ta: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø‡ÆØ‡Ææ‡Æï ‡ÆÆ‡Ææ‡Æ± ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç. ‡Æ™‡Æø‡Æ∞‡Æ§‡Øç‡ÆØ‡Øá‡Æï ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç, ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æ™‡Æô‡Øç‡Æï‡Øá‡Æ±‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç, ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡ÆÜ‡Æ∞‡Øç‡Æµ‡Æ≤‡Æ∞‡Øç‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.'
      },
      format: 'plain',
      alignment: 'center'
    },
    order: 2,
    isActive: true,
    createdBy: admin._id,
    slug: 'signup-welcome-text'
  };
  await upsertComponent({ type: 'text', page: 'sign' }, signupTextDoc);

  // Signup form labels and messages component
  const signupFormDoc = {
    type: 'text',
    page: 'sign',
    content: {
      title: { 
        en: 'Signup Form Content', 
        ta: '‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æ™‡Æü‡Æø‡Æµ ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡ÆÆ‡Øç' 
      },
      content: {
        en: JSON.stringify({
          heading: 'Create Your Account',
          subheading: 'Join the Tamil Language Society',
          email: 'Email Address',
          password: 'Password',
          confirmPassword: 'Confirm Password',
          nameEn: 'Full Name (English)',
          nameTa: 'Full Name (Tamil)',
          nameTaOptional: 'Full Name (Tamil) - Optional',
          signupButton: 'Create Account',
          haveAccount: 'Already have an account?',
          signIn: 'Sign in here',
          passwordRequirement: 'Password must be at least 8 characters long',
          emailPlaceholder: 'your@email.com',
          nameEnPlaceholder: 'John Doe',
          nameTaPlaceholder: '‡Æú‡Ææ‡Æ©‡Øç ‡Æü‡Øã'
        }),
        ta: JSON.stringify({
          heading: '‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          subheading: '‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø ‡Æö‡Æô‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡Æö‡Øá‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          email: '‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æï‡Æµ‡Æ∞‡Æø',
          password: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç',
          confirmPassword: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡Æâ‡Æ±‡ØÅ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æµ‡ØÅ‡ÆÆ‡Øç',
          nameEn: '‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç (‡ÆÜ‡Æô‡Øç‡Æï‡Æø‡Æ≤‡ÆÆ‡Øç)',
          nameTa: '‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)',
          nameTaOptional: '‡ÆÆ‡ØÅ‡Æ¥‡ØÅ ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç) - ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ',
          signupButton: '‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          haveAccount: '‡Æè‡Æ±‡Øç‡Æï‡Æ©‡Æµ‡Øá ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡Ææ?',
          signIn: '‡Æá‡Æô‡Øç‡Æï‡Øá ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç',
          passwordRequirement: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç ‡Æï‡ØÅ‡Æ±‡Øà‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ 8 ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç ‡Æ®‡ØÄ‡Æ≥‡ÆÆ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç',
          emailPlaceholder: 'your@email.com',
          nameEnPlaceholder: 'John Doe',
          nameTaPlaceholder: '‡Æú‡Ææ‡Æ©‡Øç ‡Æü‡Øã'
        })
      },
      format: 'plain'
    },
    order: 3,
    isActive: true,
    createdBy: admin._id,
    slug: 'signup-form-content'
  };
  await upsertComponent({ type: 'text', page: 'sign', slug: 'signup-form-content' }, signupFormDoc);

  // Common authentication messages component
  const authMessagesDoc = {
    type: 'text',
    page: 'auth',
    content: {
      title: { 
        en: 'Authentication Messages', 
        ta: '‡ÆÖ‡Æô‡Øç‡Æï‡ØÄ‡Æï‡Ææ‡Æ∞ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡Æø‡Æï‡Æ≥‡Øç' 
      },
      content: {
        en: JSON.stringify({
          loadingSignIn: 'Signing in...',
          loadingSignUp: 'Creating account...',
          loadingReset: 'Resetting password...',
          successSignUp: 'Account created successfully! Redirecting to login...',
          successReset: 'Password reset successfully! You can now login with your new password.',
          errorGeneric: 'An error occurred. Please try again.',
          errorInvalidCredentials: 'Invalid email or password.',
          errorEmailExists: 'An account with this email already exists.',
          errorPasswordMismatch: 'Passwords do not match.',
          errorPasswordLength: 'Password must be at least 8 characters long.',
          errorInvalidEmail: 'Please enter a valid email address.',
          errorRequiredFields: 'Please fill in all required fields.'
        }),
        ta: JSON.stringify({
          loadingSignIn: '‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï‡Æø‡Æ±‡Æ§‡ØÅ...',
          loadingSignUp: '‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ...',
          loadingReset: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡ÆÆ‡ØÄ‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æø‡Æ±‡Æ§‡ØÅ...',
          successSignUp: '‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ! ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ§‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æø ‡Æµ‡Æø‡Æü‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ...',
          successReset: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡ÆÆ‡ØÄ‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ! ‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡ØÅ‡Æü‡Æ©‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡Æ≤‡Ææ‡ÆÆ‡Øç.',
          errorGeneric: '‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æø‡Æ¥‡Øà ‡Æè‡Æ±‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ. ‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.',
          errorInvalidCredentials: '‡Æ§‡Æµ‡Æ±‡Ææ‡Æ© ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç.',
          errorEmailExists: '‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡ØÅ‡Æü‡Æ©‡Øç ‡Æè‡Æ±‡Øç‡Æï‡Æ©‡Æµ‡Øá ‡Æí‡Æ∞‡ØÅ ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ.',
          errorPasswordMismatch: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ±‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà.',
          errorPasswordLength: '‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç ‡Æï‡ØÅ‡Æ±‡Øà‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ 8 ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç ‡Æ®‡ØÄ‡Æ≥‡ÆÆ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç.',
          errorInvalidEmail: '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æö‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ© ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æï‡Æµ‡Æ∞‡Æø‡ÆØ‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç.',
          errorRequiredFields: '‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æ™‡ØÅ‡Æ≤‡Æô‡Øç‡Æï‡Æ≥‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æ∞‡Æ™‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç.'
        })
      },
      format: 'plain'
    },
    order: 1,
    isActive: true,
    createdBy: admin._id,
    slug: 'auth-messages'
  };
  await upsertComponent({ type: 'text', page: 'auth', slug: 'auth-messages' }, authMessagesDoc);

  console.log('‚úÖ Authentication components seeded successfully!');
  await mongoose.disconnect();
}

run().catch(async (err) => {
  console.error('‚ùå Failed to seed authentication components:', err);
  try { 
    await mongoose.disconnect(); 
  } catch {}
  process.exit(1);
});